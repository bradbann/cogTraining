<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
	<title>认知训练平台</title>

	<!-- Bootstrap -->
	<link href="${basePath!}/assets/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="${basePath!}/assets/css/home.css">
	
</head>
<body style="background-color: #eee">

	<nav class="navbar navbar-inverse">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand cog-brand" href="#">CogTraining</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li><a href="${basePath!}/home">主页 </a></li>
					<li><a href="${basePath!}/brain_profile">个人数据</a></li>
					<li><a href="${basePath!}/games">游戏</a></li>
				</ul>
				
				<#include "/common/account_nav.html">
			</div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
	</nav>

	<div class="main-content">
		<div id="part-1">
			<div class="container" style="width: 100%">

				<div class="col-xs-12 cols">
					<div class="part-left hidden-sm hidden-xs col-md-2" id="part-1-1">
						<div class="list-group">
							<a href="${basePath!}/settings" class="list-group-item">
								账户
							</a>
							<a href="${basePath!}/settings/training_preferences/edit" class="list-group-item active">训练偏好</a>
						</div>
					</div>
					<div class="dropdown visible-sm visible-xs pull-left">
						<a class="btn btn-cog dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
							训练偏好
							<span class="caret"></span>
						</a>
						<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
							<li><a href="${basePath!}/settings">账户</a></li>
							<li><a href="${basePath!}/settings/training_preferences/edit">训练偏好</a></li>
						</ul>
					</div>
					

					<div class="part-right col-xs-12 col-md-10">

						<div class="row">
							<div class="col-xs-12">
								<div class="panel panel-default">

									<div class="panel-body">
										<form action="${basePath}/settings/training_preferences" 
												method="post">
											<div class="row setting-row">
												<div class="col-xs-12">
													<h2 class="setting-row-headers"><strong>训练偏好</strong></h2>
													<h5>更新这些首选项，可以自定义您的训练和得到更多你喜欢的游戏。</h5>
												</div>
											</div>
											<div class="row setting-row">
												<div class="col-xs-12">
													<h3 class="setting-row-headers">我的训练偏好</h3>
													<div class="row form-group">
														<div class="col-xs-12 col-sm-6" id="wrap">
															<select id="rank-0" class="form-control" onchange="change_rank(this)" place="1" name="rank-0">
																
																<option value="0">速度训练</option>
																<option value="1">记忆训练</option>
																<option value="2">灵活训练</option>
																<option value="3">注意训练</option>
																<option value="4">逻辑训练</option>
															</select>
															<select id="rank-1" class="form-control" onchange="change_rank(this)" place="2" name="rank-1">
																
																<option value="0">速度训练</option>
																<option value="1">记忆训练</option>
																<option value="2">灵活训练</option>
																<option value="3">注意训练</option>
																<option value="4">逻辑训练</option>
															</select>
															<select id="rank-2" class="form-control" onchange="change_rank(this)" place="3" name="rank-2">
																
																<option value="0">速度训练</option>
																<option value="1">记忆训练</option>
																<option value="2">灵活训练</option>
																<option value="3">注意训练</option>
																<option value="4">逻辑训练</option>
															</select>
															<select id="rank-3" class="form-control" onchange="change_rank(this)" place="4" name="rank-3">
																
																<option value="0">速度训练</option>
																<option value="1">记忆训练</option>
																<option value="2">灵活训练</option>
																<option value="3">注意训练</option>
																<option value="4">逻辑训练</option>
															</select>
															<select id="rank-4" class="form-control" onchange="change_rank(this)" place="5" name="rank-4">
																
																<option value="0">速度训练</option>
																<option value="1">记忆训练</option>
																<option value="2">灵活训练</option>
																<option value="3">注意训练</option>
																<option value="4">逻辑训练</option>
															</select>
															<input type="text" name="rank" value="asd" id="rank-data-txt">
														</div>
														<div class="col-xs-12 col-sm-6">
															<h4><small><li>选择你想要进行的训练的顺序</li><small><h4>
																<h4><small><li>把你最想挑战的训练放在最前面</li></small></h4>
															</div>
														</div>
													</div>
												</div>
												<div class="row setting-row">
													<div class="col-xs-12">
														<h3 class="setting-row-headers">训练类型</h3>
														<div class="row form-group">
															<div class="col-xs-12 col-sm-6">
																<div class="radio preference-radio">
																	<label>
																		<input type="radio" name="optionsRadios" id="optionsRadios1" value="1" checked>
																		标准（推荐）
																	</label>
																</div>
																<div class="radio preference-radio">
																	<label>
																		<input type="radio" name="optionsRadios" id="optionsRadios2" value="2">
																		高级
																	</label>
																</div>
															</div>
															<div class="col-xs-12 col-sm-6">
																<h4><small><li>标准是我们最流行的选择</li><small></h4>
																<h4><small><li>高级是我们最有挑战性的选择</li></small></h4>
															</div>
														</div>
													</div>
												</div>
												<#--
												<div class="row setting-row">
													<div class="col-xs-12">
														<h3 class="setting-row-headers">心情和睡眠变化</h3>
														<div class="row form-group">
															<div class="col-xs-12 col-sm-6">
																<div class="checkbox preference-checkbox">
																  <label style="font-size: 150%">
																    <input type="checkbox" value="">
																    追踪心情和睡眠的变化
																  </label>
																</div>
															</div>
															<div class="col-xs-12 col-sm-6">
																<h4><small><li>在你每次训练前将会填写一个关于心情和睡眠的问卷</li></small></h4>
															</div>
														</div>
													</div>
												</div>
												-->
												<div class="row setting-row">
													<div class="col-xs-12">
														<h3 class="setting-row-headers">其他训练偏好</h3>
														<div class="row form-group">
															<div class="col-xs-12 col-sm-6">
																<div class="checkbox preference-checkbox">
																  <label style="font-size: 150%">
																    <input type="checkbox" id="english" name="english" value="1">
																    我不熟悉英语
																  </label>
																</div>
																<div class="checkbox preference-checkbox">
																  <label style="font-size: 150%">
																    <input type="checkbox" id="colorBlind" name="colorBlind" value="1">
																    我是色盲
																  </label>
																</div>
															</div>
															<div class="col-xs-12 col-sm-6">
																<h4><small><li>我们将选择性为您剔除需要熟悉英语或者分辨色彩的训练</li></small></h4>
															</div>
														</div>
													</div>
												</div>
												<div class="row btn-row">
													<div class="col-xs-12">
														<input class="btn btn-primary" type="submit" 
															value="保存修改">
													</div>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<#include "/common/bottom.html">

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="${basePath!}/assets/js/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="${basePath!}/assets/js/bootstrap.min.js"></script>
<script type="text/javascript">
	var rank_data=[0,1,2,3,4];
	<#if classPref??>
		rank_data = ${classPref};
	</#if>

	var new_rank_data=rank_data;
	var rank_param=["速度训练","记忆训练","灵活训练","注意训练","逻辑训练"];

	window.onload=function(){
		var s_height=$(window).height();
		var navbar_height=$("#navbar").outerHeight();
		$("#part-1").css("min-height",s_height-navbar_height-$("#part-6").outerHeight());
		$("#part-1").css("margin-top",navbar_height);

			//排行的初始化
			for(var i=0;i<5;i++){
				$("#rank-"+i).val(rank_data[i]);
			}
			$("#rank-data-txt").val(rank_data);
		}

		function change_rank (tar) {
			//被点击后 
			var this_new_val=$(tar).val();
			var this_id=$(tar).attr("id").substring(5, 6);
			for(var i=0;i<5;i++){
				if (new_rank_data[i]==this_new_val) {
					new_rank_data[i]=new_rank_data[this_id];
					new_rank_data[this_id]=this_new_val;
					break;
				}
			}

			for(var i=0;i<5;i++){
				$("#rank-"+i).val(new_rank_data[i]);
			}
			$("#rank-data-txt").val(new_rank_data);
		}

		function show() {

			$("#btn-submit").removeAttr("disabled");
		}

		$(document).ready(function() {
			var level = ${level!1};
			var english = ${english!0};
			var color = ${color!0};
			if (level == 1) {
				$("#optionsRadios1").attr('checked', 'true');
			} else {
				$("#optionsRadios2").attr('checked', 'true');
			}
			if (english == 1) {
				$("#english").attr('checked', 'true');
			}
			if (color == 1) {
				$("#colorBlind").attr('checked', 'true');
			}
		});
	</script>
</body>
</html>
